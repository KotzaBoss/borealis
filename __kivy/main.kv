<WindowManager>:
    name: 'manager'
    MainWindow:
        id: main
        name: 'main'
    CharCreate:
        id: charcreate
        name: 'char_create'
    RaceChoice:
        name: 'race_choice'
    ClassChoice:
        name: 'class_choice'
    SkillChoice:
        name: 'skill_choice'
    InitRoll:
        name: 'init_roll'

<ToolBar>:
    ab: ab
    ActionBar:
        id: ab
        butt: butt
        ActionView:
            ActionButton:
                id: butt
                text: '123'
            ActionPrevious:

<MainWindow>:
    toolbar: toolbar
    textin: textin
    BoxLayout:
        orientation: 'vertical'
        rows: 2
        ScrollView:
            Label:
                id: textin
                markup: True
                text: "[i][size=25][color=ff00ff]\n    B O R E A L I S[/color][/size][/i]"
                font_size: 20
                size_hint_y: None
                height: self.texture_size[1]
                text_size: self.width, None
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: 150
            BoxLayout:
                rows: 3
                orientation: 'vertical'
                Button:
                    text:'load all'
                    on_press:
                        app.root.charcreate.read_character()
                        root.toolbar.ab.text = '--'
                        if app.root.charcreate.load_failure_state: root.toolbar.ab.butt.text = app.root.charcreate.load_failure_msg
                        else: root.toolbar.ab.butt.text = '--'
                Button:
                    text:'new'
                    on_press:
                        app.root.current = 'char_create'
                Button:
                    text: 'display'
                    on_press:
                        root.display()
            ToolBar:
                id: toolbar
                name: 'toolbar'
                size_hint_y: None
                height: 50

<CharCreate>:
    name_input: name_input
    name_pop: name_pop
    RaceChoice:
    ClassChoice:

    Popup:
        id: name_pop
        title: 'NAME'
        size: (300, 300)
        TextInput:
            id: name_input
            multiline: False
            on_text_validate:
                root.get_name(self.text)
                self.text = ''

                app.root.current = 'race_choice'

